# 文本结构化系统

## 项目简介
这是一个基于大模型的文本结构化工具，能够将非结构化文本转换为具有清晰层级结构的 Markdown 格式文档。系统支持两个主要功能：文本整理和章节分割。

## 核心功能

### 1. 文本整理（可选）
- 基于大模型的文本结构化分析
- 自动生成多级标题
- 智能分块处理长文本
- 保持文本完整性和连贯性
- 支持异步处理提升性能

### 2. 章节分割
- 支持1-6级 Markdown 标题分割
- 自动保持标题层级关系
- 智能去重复标题
- 清晰的分隔符
- 保持文档结构完整性

## 技术架构
- Python 异步编程
- OpenAI/Claude API 集成
- 文本处理模块
- 分段处理引擎
- 日志记录系统

## 文件结构
- `main.py`: 程序入口，处理用户交互
- `text_structurizer.py`: 文本整理核心逻辑
- `section_splitter.py`: 章节分割核心逻辑
- `.env`: 配置文件，存储API密钥

## 使用方法

### 环境配置
1. 安装依赖：
```bash
pip install openai python-dotenv tqdm
```

2. 配置环境变量：
```bash
# .env 文件
OPENAI_API_KEY=your_api_key_here
```

### 运行程序
1. 启动程序：
```bash
python main.py
```

2. 使用流程：
   - 输入需要处理的文本（输入 'END' 结束）
   - 选择是否需要文本整理（y/n）
   - 系统会自动进行章节分割

### 输出说明
- 文本整理：将非结构化文本转换为带标题的 Markdown 格式
- 章节分割：按标题层级分割文本，保持层级关系
- 每个章节包含其完整的标题路径
- 章节之间使用分隔符分隔

## 开发状态
- [x] 基础功能实现
- [x] 文本整理模块
- [x] 章节分割模块
- [x] 异步处理支持
- [ ] 自定义配置选项
- [ ] 性能优化

## 注意事项
1. 确保 API 密钥配置正确
2. 输入文本最好是规范的文本内容
3. 大文本会自动分块处理
4. 所有操作都会记录到日志文件

## 贡献指南
1. Fork 本仓库
2. 创建特性分支
3. 提交更改
4. 发起 Pull Request

## 许可证
MIT License